(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8903:function(e,t,a){Promise.resolve().then(a.bind(a,8991))},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},5523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=a(7043)._(a(2265)).default.createContext(null)},8991:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var r=a(7437),i=a(2265),l=a(9376),n=a(7648),s=a(974);function o(){let[e,t]=(0,i.useState)(""),[a,o]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1),[c,m]=(0,i.useState)(!1),[h,f]=(0,i.useState)(""),x=(0,l.useRouter)(),{login:p,isLoading:v,errorMessage:g}=(0,s.Z)();(0,i.useEffect)(()=>{m(!0)},[]);let b=async t=>{t.preventDefault();try{await p(e,a,u)&&x.push("/dashboard")}catch(e){console.error("Login error:",e),f("Giriş yapılırken bir hata oluştu. L\xfctfen daha sonra tekrar deneyin.")}};return c?(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center py-36 px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"absolute inset-0 -z-10",children:(0,r.jsx)("div",{className:"absolute inset-0 h-full w-full bg-hero-background bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,#000_60%,transparent_100%)]"})}),(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"bg-white p-10 rounded-2xl shadow-xl",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hoş Geldiniz"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Hesabınıza giriş yapın"})]}),(g||h)&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:g||h}),(0,r.jsxs)("form",{className:"space-y-6",onSubmit:b,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Adresi"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-4 py-3 rounded-lg border border-gray-300 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all",placeholder:"ornek@email.com",value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,r.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,r.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,r.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Şifre"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full px-4 py-3 rounded-lg border border-gray-300 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all",placeholder:"••••••••",value:a,onChange:e=>o(e.target.value)}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded",checked:u,onChange:e=>d(e.target.checked)}),(0,r.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Beni hatırla"})]}),(0,r.jsx)("div",{className:"text-sm",children:(0,r.jsx)(n.default,{href:"/forgot-password",className:"font-medium text-amber-600 hover:text-amber-500",children:"Şifremi unuttum"})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:v,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white font-medium bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition-all ".concat(v?"opacity-75 cursor-not-allowed":""),children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Giriş yapılıyor..."]}):"Giriş Yap"})})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Hesabınız yok mu?"," ",(0,r.jsx)(n.default,{href:"/register",className:"font-medium text-amber-600 hover:text-amber-500",children:"Kayıt olun"})]})})]})})]}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center py-36 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsx)("div",{className:"bg-white p-10 rounded-2xl shadow-xl",children:(0,r.jsx)("div",{className:"text-center mb-8",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Y\xfckleniyor..."})})})})})}},974:function(e,t,a){"use strict";var r=a(3301),i=a(5978),l=a(2265),n=a(4230);let s={"auth/user-not-found":"Bu email adresiyle kayıtlı kullanıcı bulunamadı","auth/wrong-password":"Yanlış şifre, l\xfctfen tekrar deneyin","auth/too-many-requests":"\xc7ok fazla başarısız giriş denemesi. L\xfctfen bir s\xfcre sonra tekrar deneyin","auth/user-disabled":"Bu hesap devre dışı bırakılmış","auth/invalid-email":"Ge\xe7ersiz email formatı","auth/operation-not-allowed":"Email/şifre ile giriş izni verilmemiş","auth/network-request-failed":"İnternet bağlantınız yok, l\xfctfen bağlantınızı kontrol edip tekrar deneyiniz","auth/requires-recent-login":"Bu işlem i\xe7in son zamanlarda giriş yapmış olmanız gerekiyor","auth/email-not-verified":"L\xfctfen email adresinizi doğrulayın","auth/institution-not-found":"Kurum bilgisi bulunamadı. Giriş yapamazsınız. L\xfctfen kurum paketi anlaşması sağlamak i\xe7in iletişime ge\xe7iniz: yapayline@gmail.com","auth/invalid-api-key":"Firebase yapılandırma hatası. L\xfctfen y\xf6netici ile iletişime ge\xe7in."};t.Z=()=>{let[e,t]=(0,l.useState)(null),[a,o]=(0,l.useState)(!1),[u,d]=(0,l.useState)(null),[c,m]=(0,l.useState)(null),[h,f]=(0,l.useState)(null),[x,p]=(0,l.useState)(!1),[v,g]=(0,l.useState)(null),b=e=>{if("object"==typeof e&&null!==e&&"code"in e){let t=e.code;return s[t]||"Bir hata oluştu: ".concat(t)}return"Beklenmeyen bir hata oluştu"},y=async(e,a,l)=>{p(!0),g(null);try{var s,u,c,h,x,v;if(!n.I)throw{code:"auth/invalid-api-key"};let p=(await (0,r.e5)(n.I,e.trim(),a)).user;if(p&&!p.emailVerified)throw await (0,r.w7)(n.I),{code:"auth/email-not-verified"};if(document.cookie="loggedIn=true; path=/; ".concat(l?"max-age=3600":""),!n.db)throw{code:"auth/invalid-api-key"};let g=await (0,i.QT)((0,i.JU)(n.db,"users",p.uid));if(!g.exists()||!(null===(s=g.data())||void 0===s?void 0:s.kurum))throw await (0,r.w7)(n.I),{code:"auth/institution-not-found"};return d((null===(u=g.data())||void 0===u?void 0:u.kurum)||null),m((null===(c=g.data())||void 0===c?void 0:c.kurumId)||null),f(null!==(v=null===(h=g.data())||void 0===h?void 0:h.kurumKontejan)&&void 0!==v?v:null),o((null===(x=g.data())||void 0===x?void 0:x.isStudent)||!1),l?localStorage.setItem("saved_email",e):localStorage.removeItem("saved_email"),t(p),p}catch(e){return g(b(e)),null}finally{p(!1)}},w=async e=>{try{if(p(!0),!n.db)throw{code:"auth/invalid-api-key"};let x=await (0,i.QT)((0,i.JU)(n.db,"users",e));if(x.exists()){var t,a,r,l,s,u,c,h;o(null!==(s=null===(t=x.data())||void 0===t?void 0:t.isStudent)&&void 0!==s&&s),d(null!==(u=null===(a=x.data())||void 0===a?void 0:a.kurum)&&void 0!==u?u:null),m(null!==(c=null===(r=x.data())||void 0===r?void 0:r.kurumId)&&void 0!==c?c:null),f(null!==(h=null===(l=x.data())||void 0===l?void 0:l.kurumKontejan)&&void 0!==h?h:null)}else o(!1),d(null),m(null),f(null)}catch(e){g("Kullanıcı bilgileri alınırken hata oluştu")}finally{p(!1)}},j=async()=>{p(!0);try{n.I&&await (0,r.w7)(n.I),t(null),o(!1),d(null),m(null),document.cookie="loggedIn=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("saved_email")}catch(e){g(b(e))}finally{p(!1)}},k=async e=>{p(!0);try{if(!n.I)throw{code:"auth/invalid-api-key"};await (0,r.LS)(n.I,e.trim())}catch(e){g(b(e))}finally{p(!1)}},N=async(t,a)=>{p(!0);try{if(!e||!e.email)throw{code:"auth/no-current-user"};if(!n.I)throw{code:"auth/invalid-api-key"};let i=r.w9.credential(e.email,a);await (0,r.aF)(e,i),await (0,r.gQ)(e,t)}catch(e){g(b(e))}finally{p(!1)}};return(0,l.useEffect)(()=>{if(!n.I)return()=>{};let e=(0,r.Aj)(n.I,async e=>{e?(await w(e.uid),t(e)):(t(null),o(!1),d(null),m(null))});return()=>e()},[]),{user:e,isStudent:a,kurum:u,kurumId:c,kurumKontejan:h,isLoading:x,errorMessage:v,login:y,signOut:j,resetPassword:k,changePassword:N}}},4230:function(e,t,a){"use strict";let r,i,l;a.d(t,{I:function(){return l},db:function(){return i}});var n=a(738),s=a(5978),o=a(3301);let u={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};if(!r)try{if(Object.entries(u).filter(e=>{let[t,a]=e;return!a}).map(e=>{let[t]=e;return t}).length>0)throw Error("Missing Firebase configuration values");let e=(0,n.C6)();r=e.length?e[0]:(0,n.ZF)(u),i=(0,s.ad)(r),l=(0,o.v0)(r)}catch(e){console.error("Firebase initialization error:",e),r=void 0,i=void 0,l=void 0}}},function(e){e.O(0,[358,242,648,943,971,117,744],function(){return e(e.s=8903)}),_N_E=e.O()}]);