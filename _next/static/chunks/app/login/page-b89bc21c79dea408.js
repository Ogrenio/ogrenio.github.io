(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8903:function(e,a,t){Promise.resolve().then(t.bind(t,8991))},9376:function(e,a,t){"use strict";var l=t(5475);t.o(l,"useRouter")&&t.d(a,{useRouter:function(){return l.useRouter}})},5523:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"RouterContext",{enumerable:!0,get:function(){return l}});let l=t(7043)._(t(2265)).default.createContext(null)},8991:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return o}});var l=t(7437),i=t(2265),r=t(9376),n=t(7648),s=t(974);function o(){let[e,a]=(0,i.useState)(""),[t,o]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1),m=(0,r.useRouter)(),{login:c,isLoading:h,errorMessage:f,resetPassword:v}=(0,s.Z)(),x=async a=>{a.preventDefault(),await c(e,t,u)&&m.push("/dashboard")};return(0,l.jsxs)("div",{className:"min-h-screen flex items-center justify-center py-36 px-4 sm:px-6 lg:px-8",children:[(0,l.jsx)("div",{className:"absolute inset-0 -z-10",children:(0,l.jsx)("div",{className:"absolute inset-0 h-full w-full bg-hero-background bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,#000_60%,transparent_100%)]"})}),(0,l.jsx)("div",{className:"w-full max-w-md",children:(0,l.jsxs)("div",{className:"bg-white p-10 rounded-2xl shadow-xl",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hoş Geldiniz"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Hesabınıza giriş yapın"})]}),f&&(0,l.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:f}),(0,l.jsxs)("form",{className:"space-y-6",onSubmit:x,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Adresi"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full px-4 py-3 rounded-lg border border-gray-300 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all",placeholder:"ornek@email.com",value:e,onChange:e=>a(e.target.value)}),(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,l.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,l.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,l.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Şifre"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full px-4 py-3 rounded-lg border border-gray-300 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all",placeholder:"••••••••",value:t,onChange:e=>o(e.target.value)}),(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded",checked:u,onChange:e=>d(e.target.checked)}),(0,l.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Beni hatırla"})]}),(0,l.jsx)("div",{className:"text-sm",children:(0,l.jsx)(n.default,{href:"/forgot-password",className:"font-medium text-amber-600 hover:text-amber-500",children:"Şifremi unuttum"})})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",disabled:h,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white font-medium bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition-all ".concat(h?"opacity-75 cursor-not-allowed":""),children:h?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Giriş yapılıyor..."]}):"Giriş Yap"})})]}),(0,l.jsx)("div",{className:"mt-6 text-center",children:(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Hesabınız yok mu?"," ",(0,l.jsx)(n.default,{href:"/register",className:"font-medium text-amber-600 hover:text-amber-500",children:"Kayıt olun"})]})})]})})]})}},974:function(e,a,t){"use strict";var l=t(3301),i=t(5978),r=t(2265),n=t(4230);let s={"auth/user-not-found":"Bu email adresiyle kayıtlı kullanıcı bulunamadı","auth/wrong-password":"Yanlış şifre, l\xfctfen tekrar deneyin","auth/too-many-requests":"\xc7ok fazla başarısız giriş denemesi. L\xfctfen bir s\xfcre sonra tekrar deneyin","auth/user-disabled":"Bu hesap devre dışı bırakılmış","auth/invalid-email":"Ge\xe7ersiz email formatı","auth/operation-not-allowed":"Email/şifre ile giriş izni verilmemiş","auth/network-request-failed":"İnternet bağlantınız yok, l\xfctfen bağlantınızı kontrol edip tekrar deneyiniz","auth/requires-recent-login":"Bu işlem i\xe7in son zamanlarda giriş yapmış olmanız gerekiyor","auth/email-not-verified":"L\xfctfen email adresinizi doğrulayın","auth/institution-not-found":"Kurum bilgisi bulunamadı. L\xfctfen yapayline@gmail.com ile iletişime ge\xe7iniz","auth/unauthorized":"Bu işlem i\xe7in yetkiniz bulunmamaktadır","auth/no-current-user":"Kullanıcı bilgisi bulunamadı","auth/premium-required":"Bu işlemi yapabilmek i\xe7in kurumunuzun premium \xfcyeliğinin aktif olması gerekmektedir"};a.Z=()=>{let[e,a]=(0,r.useState)(null),[t,o]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[m,c]=(0,r.useState)(null),[h,f]=(0,r.useState)(null),[v,x]=(0,r.useState)(null),[p,g]=(0,r.useState)(null),[b,y]=(0,r.useState)(!1),[w,k]=(0,r.useState)(null),j=e=>{if("object"==typeof e&&null!==e&&"code"in e){let a=e.code;return s[a]||"Bir hata oluştu: ".concat(a)}return"Beklenmeyen bir hata oluştu"},N=async(e,t,r)=>{y(!0),k(null);try{var s,u,m,h,v,p,b,w,N;let y=(await (0,l.e5)(n.I,e.trim(),t)).user,k="yapayline@gmail.com"===y.email;if(k){let t=await (0,i.QT)((0,i.JU)(n.db,"users",y.uid));if(!(null===(w=t.data())||void 0===w?void 0:w.isSuperAdmin))throw await (0,l.w7)(n.I),{code:"auth/unauthorized"};return d(!0),a(y),g(!0),document.cookie="loggedIn=true; path=/; ".concat(r?"max-age=3600":""),r?localStorage.setItem("saved_email",e):localStorage.removeItem("saved_email"),y}if(y&&!y.emailVerified)throw await (0,l.w7)(n.I),{code:"auth/email-not-verified"};let j=await (0,i.QT)((0,i.JU)(n.db,"users",y.uid)),z=(null===(s=j.data())||void 0===s?void 0:s.isSuperAdmin)||!1;if(z&&!k)throw await (0,l.w7)(n.I),{code:"auth/unauthorized"};if(!j.exists()||!(null===(u=j.data())||void 0===u?void 0:u.kurum)&&!z)throw await (0,l.w7)(n.I),{code:"auth/institution-not-found"};let _=(null===(m=j.data())||void 0===m?void 0:m.kurumPremium)||!1;if(!_&&!k)throw await (0,l.w7)(n.I),{code:"auth/premium-required"};return c((null===(h=j.data())||void 0===h?void 0:h.kurum)||null),f((null===(v=j.data())||void 0===v?void 0:v.kurumId)||null),x(null!==(N=null===(p=j.data())||void 0===p?void 0:p.kurumKontejan)&&void 0!==N?N:null),g(_),o((null===(b=j.data())||void 0===b?void 0:b.isStudent)||!1),d(!1),document.cookie="loggedIn=true; path=/; ".concat(r?"max-age=3600":""),r?localStorage.setItem("saved_email",e):localStorage.removeItem("saved_email"),a(y),y}catch(e){return k(j(e)),null}finally{y(!1)}},z=async e=>{try{var a,t,r,s,u,m,h,v,p,b,w,N,z;y(!0);let k=await (0,i.QT)((0,i.JU)(n.db,"users",e));if(k.exists()){let e=(null===(a=n.I.currentUser)||void 0===a?void 0:a.email)==="yapayline@gmail.com",i=(null===(t=k.data())||void 0===t?void 0:t.isSuperAdmin)||!1;if(i&&!e)throw await (0,l.w7)(n.I),{code:"auth/unauthorized"};d(e&&i),o(null!==(v=null===(r=k.data())||void 0===r?void 0:r.isStudent)&&void 0!==v&&v),c(null!==(p=null===(s=k.data())||void 0===s?void 0:s.kurum)&&void 0!==p?p:null),f(null!==(b=null===(u=k.data())||void 0===u?void 0:u.kurumId)&&void 0!==b?b:null),x(null!==(w=null===(m=k.data())||void 0===m?void 0:m.kurumKontejan)&&void 0!==w?w:null),g(null!==(N=null===(h=k.data())||void 0===h?void 0:h.kurumPremium)&&void 0!==N&&N)}else(null===(z=n.I.currentUser)||void 0===z?void 0:z.email)==="yapayline@gmail.com"?(d(!0),g(!0)):(d(!1),o(!1),c(null),f(null),x(null),g(null))}catch(e){k(j(e))}finally{y(!1)}},_=async()=>{y(!0);try{await (0,l.w7)(n.I),a(null),o(!1),d(!1),c(null),f(null),x(null),g(null),document.cookie="loggedIn=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("saved_email")}catch(e){k(j(e))}finally{y(!1)}},I=async e=>{y(!0);try{await (0,l.LS)(n.I,e.trim())}catch(e){k(j(e))}finally{y(!1)}},S=async(a,t)=>{y(!0);try{if(!e||!e.email)throw{code:"auth/no-current-user"};let i=l.w9.credential(e.email,t);await (0,l.aF)(e,i),await (0,l.gQ)(e,a)}catch(e){k(j(e))}finally{y(!1)}};return(0,r.useEffect)(()=>{let e=(0,l.Aj)(n.I,async e=>{e?(await z(e.uid),a(e)):(a(null),o(!1),d(!1),c(null),f(null),x(null),g(null))});return()=>e()},[]),{user:e,isStudent:t,isSuperAdmin:u,kurum:m,kurumId:h,kurumKontejan:v,kurumPremium:p,isLoading:b,errorMessage:w,login:N,signOut:_,resetPassword:I,changePassword:S}}},4230:function(e,a,t){"use strict";let l,i,r;t.d(a,{I:function(){return r},db:function(){return i}});var n=t(738),s=t(5978),o=t(3301);let u={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};if(!(0,n.C6)().length){if(Object.values(u).every(e=>void 0!==e&&""!==e))try{l=(0,n.ZF)(u),i=(0,s.ad)(l),r=(0,o.v0)(l)}catch(e){console.error("Firebase initialization error",e)}else console.error("Firebase config is missing or incomplete")}}},function(e){e.O(0,[358,242,648,943,971,117,744],function(){return e(e.s=8903)}),_N_E=e.O()}]);