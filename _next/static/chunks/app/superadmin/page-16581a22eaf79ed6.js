(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{4137:function(e,a,s){Promise.resolve().then(s.bind(s,4079))},4079:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return d}});var n=s(7437),t=s(2265),i=s(7996),r=s(4230),l=s(5978);let c=async()=>{try{let e=await (0,l.PL)((0,l.hJ)(r.db,"users")),a=new Map;return e.forEach(e=>{let s=e.data();if(s.kurumId){let e=s.kurumId,n=a.get(e)||{isim:s.kurum||"Bilinmeyen Kurum",kontejan:s.kurumKontejan||null,kullaniciSayisi:0,email:s.email||"",name:s.name||"",phone:s.phone||"",createdAt:s.createdAt||"",organization:s.organization||""};a.set(e,{...n,kullaniciSayisi:n.kullaniciSayisi+1,email:n.email||s.email||"",name:n.name||s.name||"",phone:n.phone||s.phone||"",createdAt:n.createdAt||s.createdAt||"",organization:n.organization||s.organization||""})}}),Array.from(a.entries()).map(e=>{let[a,s]=e;return{id:a,...s}})}catch(e){throw console.error("T\xfcm kurumlar alınırken hata oluştu:",e),e}};var o=s(9064),d=()=>{let[e,a]=(0,t.useState)([]),[s,r]=(0,t.useState)(""),[l,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{let e=await c();a(e)}catch(e){console.error(e),o.Am.error("Kurumlar y\xfcklenirken bir hata oluştu")}finally{d(!1)}})()},[]);let u=e.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase())||e.isim.toLowerCase().includes(s.toLowerCase())||e.organization.toLowerCase().includes(s.toLowerCase()));return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Kurum Y\xf6netimi"}),(0,n.jsxs)("div",{className:"relative mb-6",children:[(0,n.jsx)(i.jRj,{className:"absolute left-3 top-3 text-gray-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Kurum veya organizasyon ara...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500",value:s,onChange:e=>r(e.target.value)})]}),(0,n.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold p-4 bg-gray-100",children:"Kurum İstatistikleri"}),l?(0,n.jsx)("div",{className:"text-center p-8 text-amber-600",children:"Y\xfckleniyor..."}):u.length>0?(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4",children:u.map(e=>{let a=null!==e.kontejan?Math.min(100,e.kullaniciSayisi/e.kontejan*100):0;return(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsxs)("h3",{className:"font-medium flex items-center",children:[(0,n.jsx)(i.m6D,{className:"mr-2 text-amber-600"}),e.isim]}),(0,n.jsxs)("span",{className:"text-sm bg-amber-100 text-amber-800 px-2 py-1 rounded",children:["ID: ",e.id]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{children:"Email:"}),(0,n.jsx)("span",{children:e.email})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{children:"Yetkili:"}),(0,n.jsx)("span",{children:e.name})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{children:"Telefon:"}),(0,n.jsx)("span",{children:e.phone||"Belirtilmemiş"})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{children:"Kontejan:"}),(0,n.jsx)("span",{children:null!==e.kontejan?e.kontejan:"Sınırsız"})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{children:"Kullanıcı Sayısı:"}),(0,n.jsx)("span",{children:e.kullaniciSayisi})]}),null!==e.kontejan&&(0,n.jsxs)("div",{className:"pt-2",children:[(0,n.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,n.jsx)("span",{children:"Doluluk:"}),(0,n.jsxs)("span",{children:[Math.round(a),"%"]})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,n.jsx)("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:"".concat(a,"%")}})})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{children:"Oluşturulma:"}),(0,n.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]})]},e.id)})}):(0,n.jsx)("div",{className:"text-center p-8 text-gray-500",children:"Kurum bulunamadı"})]})]})})}},4230:function(e,a,s){"use strict";let n,t,i;s.d(a,{I:function(){return i},db:function(){return t}});var r=s(738),l=s(5978),c=s(3301);let o={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};if(!(0,r.C6)().length){if(Object.values(o).every(e=>void 0!==e&&""!==e))try{n=(0,r.ZF)(o),t=(0,l.ad)(n),i=(0,c.v0)(n)}catch(e){console.error("Firebase initialization error",e)}else console.error("Firebase config is missing or incomplete")}}},function(e){e.O(0,[358,242,956,943,67,971,117,744],function(){return e(e.s=4137)}),_N_E=e.O()}]);