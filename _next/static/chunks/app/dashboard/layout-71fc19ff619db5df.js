(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{9831:function(e,t,a){Promise.resolve().then(a.bind(a,7498))},166:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var l=a(5775),n=a.n(l)},9376:function(e,t,a){"use strict";var l=a(5475);a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}})},5775:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let l=a(7043);a(7437),a(2265);let n=l._(a(5602));function i(e,t){var a;let l={loading:e=>{let{error:t,isLoading:a,pastDelay:l}=e;return null}};"function"==typeof e&&(l.loader=e);let i={...l,...t};return(0,n.default)({...i,modules:null==(a=i.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let l=a(8993);function n(e){let{reason:t,children:a}=e;if("undefined"==typeof window)throw new l.BailoutToCSRError(t);return a}},5602:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let l=a(7437),n=a(2265),i=a(1523),r=a(49);function o(e){return{default:e&&"default"in e?e.default:e}}let u={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},s=function(e){let t={...u,...e},a=(0,n.lazy)(()=>t.loader().then(o)),s=t.loading;function d(e){let o=s?(0,l.jsx)(s,{isLoading:!0,pastDelay:!0,error:null}):null,u=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(r.PreloadCss,{moduleIds:t.modules}):null,(0,l.jsx)(a,{...e})]}):(0,l.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(a,{...e})});return(0,l.jsx)(n.Suspense,{fallback:o,children:u})}return d.displayName="LoadableComponent",d}},49:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return i}});let l=a(7437),n=a(544);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let a=(0,n.getExpectedRequestStore)("next/dynamic css"),i=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files.filter(e=>e.endsWith(".css"));i.push(...t)}}return 0===i.length?null:(0,l.jsx)(l.Fragment,{children:i.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},7498:function(e,t,a){"use strict";var l=a(7437),n=a(7996),i=a(2265),r=a(7648),o=a(9376),u=a(3145),s=a(166),d=a(974);let c=(0,s.default)(()=>Promise.resolve(e=>{let{children:t}=e;return(0,l.jsx)(l.Fragment,{children:t})}),{ssr:!1,loading:()=>(0,l.jsx)("header",{className:"bg-gradient-to-r from-amber-500 to-orange-500 shadow-lg h-16"})});t.default=()=>{let[e,t]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[m,f]=(0,i.useState)(!1),h=(0,o.useRouter)(),{user:x,signOut:b}=(0,d.Z)();return((0,i.useEffect)(()=>{t(!0)},[]),e)?(0,l.jsx)(c,{children:(0,l.jsxs)("header",{className:"bg-gradient-to-r from-amber-500 to-orange-500 shadow-lg",children:[(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex justify-between h-16 items-center",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{onClick:()=>f(!m),className:"md:hidden p-2 rounded-md text-white hover:text-amber-100 hover:bg-amber-600 focus:outline-none transition-colors","aria-label":"Toggle menu",children:(0,l.jsx)(n.cur,{className:"h-6 w-6"})}),(0,l.jsxs)(r.default,{href:"/dashboard",className:"flex items-center","aria-label":"Dashboard",children:[(0,l.jsx)("div",{className:"h-8 w-8 rounded-md bg-white flex items-center justify-center shadow-md overflow-hidden",children:(0,l.jsx)(u.default,{src:"/images/icon.png",alt:"\xd6ğrenio Logo",width:32,height:32,className:"object-contain",priority:!0})}),(0,l.jsx)("h1",{className:"ml-3 text-xl font-bold text-white hidden md:block",children:"\xd6ğrenio Kurum Paneli"})]})]}),(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{onClick:()=>s(!a),className:"flex items-center space-x-2 p-1 rounded-full hover:bg-amber-600 focus:outline-none transition-colors","aria-label":"User menu",children:[(0,l.jsx)("div",{className:"h-8 w-8 rounded-full bg-white flex items-center justify-center text-amber-600 font-medium shadow-md overflow-hidden",children:(0,l.jsx)(u.default,{src:"/images/icon.png",alt:"User avatar",width:32,height:32,className:"object-contain"})}),(0,l.jsx)("span",{className:"hidden md:inline text-sm font-medium text-white",children:"Kurum Admin"})]}),a&&(0,l.jsxs)("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-xl bg-white ring-1 ring-black ring-opacity-5 py-1 z-20 overflow-hidden",onMouseLeave:()=>s(!1),children:[(0,l.jsxs)("div",{className:"px-4 py-3 bg-gradient-to-r from-amber-50 to-orange-50 border-b border-amber-100",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Kurum Admin"}),(0,l.jsx)("p",{className:"text-xs text-amber-600",children:null==x?void 0:x.email})]}),(0,l.jsx)("div",{className:"border-t border-amber-100"}),(0,l.jsxs)("button",{onClick:()=>{b(),console.log("Logging out..."),s(!1),h.push("/")},className:"w-full text-left flex items-center px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[(0,l.jsx)(n.xqh,{className:"mr-3 h-4 w-4"}),"\xc7ıkış Yap"]})]})]})})]})}),m&&(0,l.jsx)("div",{className:"md:hidden bg-amber-600",children:(0,l.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,l.jsx)(r.default,{href:"/dashboard",className:"block px-3 py-2 rounded-md text-white font-medium hover:bg-amber-700",onClick:()=>f(!1),children:"Anasayfa"}),(0,l.jsx)(r.default,{href:"/dashboard/courses",className:"block px-3 py-2 rounded-md text-white font-medium hover:bg-amber-700",onClick:()=>f(!1),children:"Kurslar"}),(0,l.jsx)(r.default,{href:"/dashboard/students",className:"block px-3 py-2 rounded-md text-white font-medium hover:bg-amber-700",onClick:()=>f(!1),children:"\xd6ğrenciler"})]})})]})}):(0,l.jsx)("header",{className:"bg-gradient-to-r from-amber-500 to-orange-500 shadow-lg h-16",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center",children:(0,l.jsx)("div",{className:"h-8 w-8 rounded-md bg-white/20 animate-pulse"})})})}},974:function(e,t,a){"use strict";var l=a(3301),n=a(5978),i=a(2265),r=a(4230);let o={"auth/user-not-found":"Bu email adresiyle kayıtlı kullanıcı bulunamadı","auth/wrong-password":"Yanlış şifre, l\xfctfen tekrar deneyin","auth/too-many-requests":"\xc7ok fazla başarısız giriş denemesi. L\xfctfen bir s\xfcre sonra tekrar deneyin","auth/user-disabled":"Bu hesap devre dışı bırakılmış","auth/invalid-email":"Ge\xe7ersiz email formatı","auth/operation-not-allowed":"Email/şifre ile giriş izni verilmemiş","auth/network-request-failed":"İnternet bağlantınız yok, l\xfctfen bağlantınızı kontrol edip tekrar deneyiniz","auth/requires-recent-login":"Bu işlem i\xe7in son zamanlarda giriş yapmış olmanız gerekiyor","auth/email-not-verified":"L\xfctfen email adresinizi doğrulayın","auth/institution-not-found":"Kurum bilgisi bulunamadı. L\xfctfen yapayline@gmail.com ile iletişime ge\xe7iniz","auth/unauthorized":"Bu işlem i\xe7in yetkiniz bulunmamaktadır","auth/no-current-user":"Kullanıcı bilgisi bulunamadı"};t.Z=()=>{let[e,t]=(0,i.useState)(null),[a,u]=(0,i.useState)(!1),[s,d]=(0,i.useState)(!1),[c,m]=(0,i.useState)(null),[f,h]=(0,i.useState)(null),[x,b]=(0,i.useState)(null),[g,v]=(0,i.useState)(!1),[p,y]=(0,i.useState)(null),w=e=>{if("object"==typeof e&&null!==e&&"code"in e){let t=e.code;return o[t]||"Bir hata oluştu: ".concat(t)}return"Beklenmeyen bir hata oluştu"},j=async(e,a,i)=>{v(!0),y(null);try{var o,s,c,f,x,g,p,j;let v=(await (0,l.e5)(r.I,e.trim(),a)).user,y="yapayline@gmail.com"===v.email;if(y){let a=await (0,n.QT)((0,n.JU)(r.db,"users",v.uid));if(!(null===(p=a.data())||void 0===p?void 0:p.isSuperAdmin))throw await (0,l.w7)(r.I),{code:"auth/unauthorized"};return d(!0),t(v),document.cookie="loggedIn=true; path=/; ".concat(i?"max-age=3600":""),i?localStorage.setItem("saved_email",e):localStorage.removeItem("saved_email"),v}if(v&&!v.emailVerified)throw await (0,l.w7)(r.I),{code:"auth/email-not-verified"};let w=await (0,n.QT)((0,n.JU)(r.db,"users",v.uid)),k=(null===(o=w.data())||void 0===o?void 0:o.isSuperAdmin)||!1;if(k&&!y)throw await (0,l.w7)(r.I),{code:"auth/unauthorized"};if(!w.exists()||!(null===(s=w.data())||void 0===s?void 0:s.kurum)&&!k)throw await (0,l.w7)(r.I),{code:"auth/institution-not-found"};return m((null===(c=w.data())||void 0===c?void 0:c.kurum)||null),h((null===(f=w.data())||void 0===f?void 0:f.kurumId)||null),b(null!==(j=null===(x=w.data())||void 0===x?void 0:x.kurumKontejan)&&void 0!==j?j:null),u((null===(g=w.data())||void 0===g?void 0:g.isStudent)||!1),d(!1),document.cookie="loggedIn=true; path=/; ".concat(i?"max-age=3600":""),i?localStorage.setItem("saved_email",e):localStorage.removeItem("saved_email"),t(v),v}catch(e){return y(w(e)),null}finally{v(!1)}},k=async e=>{try{var t,a,i,o,s,c,f,x,g,p,j;v(!0);let y=await (0,n.QT)((0,n.JU)(r.db,"users",e));if(y.exists()){let e=(null===(t=r.I.currentUser)||void 0===t?void 0:t.email)==="yapayline@gmail.com",n=(null===(a=y.data())||void 0===a?void 0:a.isSuperAdmin)||!1;if(n&&!e)throw await (0,l.w7)(r.I),{code:"auth/unauthorized"};d(e&&n),u(null!==(f=null===(i=y.data())||void 0===i?void 0:i.isStudent)&&void 0!==f&&f),m(null!==(x=null===(o=y.data())||void 0===o?void 0:o.kurum)&&void 0!==x?x:null),h(null!==(g=null===(s=y.data())||void 0===s?void 0:s.kurumId)&&void 0!==g?g:null),b(null!==(p=null===(c=y.data())||void 0===c?void 0:c.kurumKontejan)&&void 0!==p?p:null)}else(null===(j=r.I.currentUser)||void 0===j?void 0:j.email)==="yapayline@gmail.com"?d(!0):(d(!1),u(!1),m(null),h(null),b(null))}catch(e){y(w(e))}finally{v(!1)}},N=async()=>{v(!0);try{await (0,l.w7)(r.I),t(null),u(!1),d(!1),m(null),h(null),b(null),document.cookie="loggedIn=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("saved_email")}catch(e){y(w(e))}finally{v(!1)}},I=async e=>{v(!0);try{await (0,l.LS)(r.I,e.trim())}catch(e){y(w(e))}finally{v(!1)}},S=async(t,a)=>{v(!0);try{if(!e||!e.email)throw{code:"auth/no-current-user"};let n=l.w9.credential(e.email,a);await (0,l.aF)(e,n),await (0,l.gQ)(e,t)}catch(e){y(w(e))}finally{v(!1)}};return(0,i.useEffect)(()=>{let e=(0,l.Aj)(r.I,async e=>{e?(await k(e.uid),t(e)):(t(null),u(!1),d(!1),m(null),h(null),b(null))});return()=>e()},[]),{user:e,isStudent:a,isSuperAdmin:s,kurum:c,kurumId:f,kurumKontejan:x,isLoading:g,errorMessage:p,login:j,signOut:N,resetPassword:I,changePassword:S}}},4230:function(e,t,a){"use strict";let l,n,i;a.d(t,{I:function(){return i},db:function(){return n}});var r=a(738),o=a(5978),u=a(3301);let s={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};if(!(0,r.C6)().length){if(Object.values(s).every(e=>void 0!==e&&""!==e))try{l=(0,r.ZF)(s),n=(0,o.ad)(l),i=(0,u.v0)(l)}catch(e){console.error("Firebase initialization error",e)}else console.error("Firebase config is missing or incomplete")}}},function(e){e.O(0,[358,242,956,648,943,292,971,117,744],function(){return e(e.s=9831)}),_N_E=e.O()}]);